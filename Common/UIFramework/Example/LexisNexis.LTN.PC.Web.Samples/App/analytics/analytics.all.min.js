"use strict";var FileBrowseResources,UserPickerResources;(function(){angular.module("app",["ngAnimate","ngRoute","ngMessages","ngSanitize","kendo.directives","ui.bootstrap","angular-loading-bar"])})(),function(){angular.module("app").constant("ERRORS_LIST",{Custom:"Custom",400:"Bad Request",404:"Page Not Found",901:"Unauthorized service call"})}(),function(){function n(n,t){n.decorator("$exceptionHandler",["$delegate","$injector",function(n,t){return function(i,r){n(i,r);var u=t.get("ErrorHandlerService");i.status&&i.status==="Custom "||u.addError(i)}}]);t.decorate(n,["WebApiClientService"])}angular.module("app").config(n);n.$inject=["$provide","WebApiClientServiceDecoratorProvider"]}(),function(){function n(n){n.when("/",{controller:"ProjectListController",controllerAs:"ProjectListController",templateUrl:"/App/analytics/projects/projectList/ProjectListView.html"}).when("/list",{controller:"ProjectListController",controllerAs:"ProjectListController",templateUrl:"/App/analytics/projects/projectList/ProjectListView.html"}).when("/dashboard",{controller:"ProjectDashboardController",controllerAs:"ProjectDashboardController",templateUrl:"/App/analytics/projects/dashboard/ProjectDashboardView.html"}).when("/wizard/:id",{controller:"ProjectWizardController",controllerAs:"ProjectWizardController",templateUrl:"/App/analytics/projects/projectWizard/ProjectWizardView.html"}).when("/wizard",{controller:"ProjectWizardController",controllerAs:"ProjectWizardController",templateUrl:"/App/analytics/projects/projectWizard/ProjectWizardView.html"}).when("/dev",{controller:"DevelopmentController",controllerAs:"DevelopmentController",templateUrl:"/App/development/development.html"}).otherwise({redirectTo:"/"})}angular.module("app").config(n);n.$inject=["$routeProvider"]}(),function(){function n(){}angular.module("app").run(n);n.$inject=["$rootScope","$templateCache"]}(),function(){angular.module("app").factory("WebApiClientService",["$http","$q",function(n){function i(){angular.forEach(arguments,function(i){t[i]=function(t,r){return r=r||{},n(angular.extend(r,{method:i,url:t,allowRequest:!0}))}})}function r(){angular.forEach(arguments,function(i){t[i]=function(t,r,u){return u=u||{},n(angular.extend(u,{method:i,url:t,data:r,allowRequest:!0}))}})}var t={};return i("get","delete","head","jsonp"),r("post","put","patch"),t}])}(),function(){angular.module("app").provider("WebApiClientServiceDecorator",function(){function n(n,t,i){return angular.extend(function(){var r=n.get("WebApiClientServiceDecorator");return r.call(i,t,arguments)},i)}var t=["$delegate","$injector",function(t,i){for(var r in t)angular.isFunction(t[r])&&(t[r]=n(i,t,t[r]));return t}];return{decorate:function(n,i){angular.forEach(i,function(i){n.decorator(i,t)})},$get:function(n){var t={call:function(i,r,u){var f,e;try{f=i.apply(r,u)}catch(o){n.addError(o)}return e=f&&f.$promise||f,e&&angular.isFunction(e.then)&&angular.isFunction(e["catch"])&&t.async(i,e),f},async:function(t,i){return i["catch"](function(t){t.status&&t.status!=="Custom"&&n.addError(t)}),i}};return t}}})}(),function(){var n=function(){return{controller:function(n){var t=this;t.ErrorHandlerService=n},template:'<div alert ng-repeat="error in ErrorHandlerService.errors track by $index" type="danger" close="ErrorHandlerService.errors.splice($index,1)">{{error}}<\/div>',link:function(n,t,i,r){n.ErrorHandlerService=r.ErrorHandlerService}}};angular.module("app").directive("lnErrorHandler",n)}(),function(){angular.module("app").factory("ErrorHandlerService",["$log","ERRORS_LIST",function(n,t){var i={errors:[],buildErrorMessage:function(i){if(i&&!angular.isUndefined(i.status)){if(i.data&&i.data.ExceptionType){var r=i.data.ExceptionType,u=i.data.Message,f=i.data.ExceptionMessage;i=r+": "+u+"[ "+f+" ]"}i.data&&i.MessageDetail?i=t[i.status]+":"+i.Message+"["+i.MessageDetail+"]":i.data&&i.data.MessageDetail&&(i=t[i.status]+":"+i.data.Message+"["+i.data.MessageDetail+"]");i.message&&(i=t[i.status]+":"+i.message)}else i&&i.Message?i=i.Message:i&&i.message&&(i=i.message);return angular.isString(i)||(i="An unknown error occurred."),n.info("Caught error: "+i),i},get:function(){return i.errors},addError:function(n){i.errors.push(i.buildErrorMessage(n))},clearError:function(n){i.errors.splice(n,1)}};return i}])}(),function(){angular.module("app").directive("lnInputValidation",function(){return{scope:{validations:"=?lnInputValidationSync",asyncValidations:"=?lnInputValidationAsync",patterns:"=?lnInputValidationPatterns",batch:"=?lnInputValidationBatch"},require:"ngModel",link:function(n,t,i,r){i.lnInputValidationBatch&&(r.$validators.lnBatchValidations=function(t){var i=!0;return angular.forEach(n.batch,function(n){i=i&&n.test(t)}),i});i.lnInputValidationPatterns&&angular.forEach(n.patterns,function(n,t){r.$validators[t]=function(t,i){var r=t||i;return n.test(r)}});i.lnInputValidationSync&&angular.forEach(n.validations,function(n,t){r.$validators[t]=function(t,i){var r=t||i;return n(r)}});i.lnInputValidationAsync&&angular.forEach(n.asyncValidations,function(n,t){r.$asyncValidators[t]=function(t,i){var r=t||i;return n(r)}})}}})}();var WizardResources={ProjectSettings:"Project Settings",Name:"Name",Description:"Description",DocSourceOptions:"Document Source Options",Next:"Next",NameRequired:"Name is required",NameInvalid:"Name is invalid",ValidationErrors:"Please correct the errors below:",AllDocs:"All Docs",Tag:"Tag",SavedSearch:"Saved Search",IdentifyRepeatedContent:"Identify Repeated Content"},ProjectResources={ProjectName:"Project",MatterName:"Matter",Source:"Source",CreatedBy:"Created By",Documents:"Documents",CreatedOn:"Created On",Actions:"Actions",FilterByMatter:"Filter By Matter",FilterByDataset:"Filter By Dataset",NewProject:"New Project",Refresh:"Refresh",Clear:"Clear",Pagetitle:"Assisted Review",System:"System",Analytics:"Analytics",Edit:"Edit",Delete:"Delete",ErrorOnFetch:"Error on retrieving projects ",ErrorOnDelete:"Error on deleting project "},CreateControlSetResources={WarningMessage:"Warning: This job will delete your existing control set and progress statistics. This action cannot be undone.",Confidence:"Confidence",MarginError:"Margin of Error",ConfidenceValidationMessage:"Select Confidence",MarginErrorValidationMessage:"Select Margin of Error",SampleSize:"Sample Size",Cancel:"Cancel",OK:"OK",Calculate:"Calculate",SelectDefaultOption:"-- Select One --",ModalTitle:"New Control Set",confidences_95:"95",confidences_90:"90",confidences_85:"85",errorMargins_5:"5.0",errorMargins_2p5:"2.5",errorMargins_2:"2.0",errorMargins_1p5:"1.5",errorMargins_1:"1.0",errorMargins_p5:"0.5",percentage:"%",ErrorOnSampleSize:"Error on retrieving Sample Size:",ErrorOnAddControlSet:"Error on add ControlSet:"},CreateQCSetResources={Confidence:"Confidence",MarginError:"Margin of Error",ConfidenceValidationMessage:"Select Confidence",MarginErrorValidationMessage:"Select Margin of Error",RelevantTypeValidationMessage:"Select Relevance type",SamplingTypeValidationMessage:"Select Sampling type",SampleSize:"Sample Size",Statistical:"Statistical",Percentage:"Percentage",NotRelevant:"Not Relevant",Relevant:"Relevant",Sampling:"Sampling",Both:"Both",Cancel:"Cancel",OK:"OK",Calculate:"Calculate",ModalTitle:"New QC Set",confidences_95:"95",confidences_90:"90",confidences_85:"85",errorMargins_5:"5.0",errorMargins_2p5:"2.5",errorMargins_2:"2.0",errorMargins_1p5:"1.5",errorMargins_1:"1.0",errorMargins_p5:"0.5",percentage:"%",ErrorOnSampleSize:"Error on retrieving Sample Size:",ErrorOnAddControlSet:"Error on add ControlSet:"},CreatePredictionSetResources={ModalTitle:"New Prediction Set",Cancel:"Cancel",OK:"OK",Message:"Prediction Set job has been scheduled"},RunAccuracyTestResources={ModalTitle:"Run Accuracy Test",Cancel:"Cancel",OK:"OK",Message:"Accuracy Test job has been scheduled"},ProjectWizardResources={ProjectSettings:"Project Settings",Name:"Name",Description:"Description",DocSourceOptions:"Document Source Options",Prev:"Prev",Next:"Next",Finish:"Finish",NameRequired:"Name is required",NameInvalid:"Name is invalid (should have atleast one alphabet[a-z][A-Z] or number[0-9] between 2-200 characters)",DescriptionInvalid:"Description is invalid",SampleCustomValidatorMessage:"Description cannot be 1",ValidationErrors:"Please correct the errors below:",AllDocs:"All Docs",Tag:"Tag",SavedSearch:"Saved Search",IdentifyRepeatedContent:"Identify Repeated Content",Confidence:"Confidence",MarginOfError:"Margin of Error",StratifyByCustodian:"Stratify by Custodian",CustodianField:"Custodian Field",SampleSize:"Sample Size",Calculate:"Calculate",ExampleSetOptions:"Example Set Options",Recommended:"Recommended",PreCoded:"Pre-Coded",LimitExamples:"Limit # of Examples",NumExamples:"# of Examples",SampleCustomValidator:"Margin of Error must be greater than 2%",Summary:"Summary",ProjectName:"Project Name",Source:"Source",TotalDocuments:"Total Documents",DocumentTextField:"Document Text Field",DocumentText:"Document Text",CrossReferenceField:"Cross Reference Field",DCN:"DCN",CustodianField:"Custodian Field",ControlSet:"Control Set",PercentConfidence:"% Confidence",PercentMarginOfError:"% Margin of Error",TrainingSet:"Training Set"},DocumentSetsListResources={DocumentSets:"Document Sets",Clear:"Clear",Refresh:"Refresh",Type:"Type",Status:"Status"},ProjectDashboardResources={Control:"Control",Train:"Train",NewTrainingSet:"New Training Set",TuneExamples:"Tune Examples",AccuracyTest:"Accuracy Test",Predict:"Predict",QC:"QC",Reports:"Reports",Accuracy:"Accuracy",Overturn:"Overturn",Summary:"Summary",Settings:"Settings",Option1:"Option 1",Option2:"Option 2",Documents:"Documents",Status:"Status",Details:"Details",SourceDataset:"Source Dataset",TotalDocuments:"Total Documents",CrossReferenceField:"Cross Reference Field",ControlSet:"Control Set",DatabaseServer:"Database Server",AnalyticsServer:"Analytics Server"},TrainingProgressResources={TrainingProgress:"TrainingProgress",ViewReport:"View Report",Refresh:"Refresh"};(function(){angular.module("app").factory("ProjectModel",function(){var n=function(){this.id=0;this.name="New Project";this.description="";this.docSource="All";this.tag="";this.identifyRepeatedContent=!1;this.confidence=0;this.marginOfError=0;this.stratifyByCustodian=!1;this.custodianField=null;this.sampleSize=null;this.limitExamples=!1;this.numExamples=0};return n.prototype={doSomething:function(){return}},n})})(),function(){function n(n,t,i){function f(){var n;return u?(n=i.defer(),n.resolve(!0),n.promise):t.get("/api/appState").then(function(n){return r.currentMatter=n.data.currentMatter,r.username=n.data.username,u=!0,!0})}function e(n,t){if(!r.hasOwnProperty(n))throw"Key "+n+" does not exist in app state";r[n]=t}function o(n){if(!r.hasOwnProperty(n))throw"Key "+n+" does not exist in app state";return r[n]}var u=!1,r={currentMatter:null,username:null};return{ensureLoaded:f,setState:e,getState:o}}angular.module("app").factory("AppState",n);n.$inject=["$rootScope","WebApiClientService","$q"]}(),function(){function n(n){function t(t){n.alert(t)}return{showAlert:t}}angular.module("app").factory("AlertService",n);n.$inject=["$window"]}(),function(){function n(n){function t(){return n.get("/api/matters").then(function(n){return n.data})}return{getMatters:t}}angular.module("app").factory("MattersDataService",n);n.$inject=["WebApiClientService"]}(),function(){function n(n){function t(t){return n.get("/odata/DocumentSets",{params:t})}return{getDocumentSets:t}}angular.module("app").factory("DocumentSetsDataService",n);n.$inject=["WebApiClientService","$q"]}(),function(){function n(n){function t(){return n.get("/api/datasets").then(function(n){return n.data})}function i(t){return n.get("/api/datasets/matterid/"+t).then(function(n){return n.data})}return{getDataSets:t,getDataSetsForMatterId:i}}angular.module("app").factory("DataSetsDataService",n);n.$inject=["WebApiClientService"]}(),function(){function n(n,t,i,r){function u(n){return r.get("/odata/ProjectsOData",{params:n})}function f(n){return r.get("/api/projects/"+n,{params:{}}).then(function(n){var t=new i;return t.id=n.data.Id,t.name=n.data.Name,t.description=n.data.Description,t.docSource=n.data.DocSource,t.tag=n.data.Tag,t.identifyRepeatedContent=n.data.IdentifyRepeatedContent,t.confidence=n.data.Confidence,t.marginOfError=n.data.MarginOfError,t.stratifyByCustodian=n.data.StratifyByCustodian,t.custodianField=n.data.CustodianField,t.sampleSize=n.data.SampleSize,t.limitExamples=n.data.LimitExamples,t.numExamples=n.data.NumOfExamples,t})}function e(n){return r.get("/api/projects/summary/"+n,{params:{}}).then(function(n){return n.data})}function o(n){return r.delete("/api/projects/"+n,{params:{}}).then(function(){})}function s(n){return r.post("/api/projects/"+n.id,n).then(function(){})}function h(n){return r.put("/api/projects/"+n.id,n).then(function(){})}function c(n){var i=t.defer();return r.get("/api/projects/1",{params:{}}).then(function(t){if(t.data.Name!==n)i.resolve(!0);else{var r=new Error;r.status="Custom";r.message="Validation Failed";i.reject(r)}}),i.promise}function l(){var n=1,t=Math.floor(Math.random()*(101-n))+n;return t%2==0?r.get("/api/projects/samplesize",{params:{}}).then(function(n){return n.data}):t%3?r.get("/api/test",{params:{}}):r.get("/api/projects/samplesizeerror",{params:{}})}return{getProjectsOData:u,getProject:f,getProjectSummary:e,deleteProject:o,addProject:s,updateProject:h,checkUniqueProjectName:c,calculateSampleSize:l}}angular.module("app").factory("ProjectsDataService",n);n.$inject=["$http","$q","ProjectModel","WebApiClientService"]}(),function(){function n(n){function t(){return n.get("/api/trainingprogress").then(function(n){return n.data})}return{getTrainingResults:t}}angular.module("app").factory("TrainingDataService",n);n.$inject=["WebApiClientService","$q"]}(),function(){angular.module("app").directive("lnBreadcrumbs",function(){return{scope:{breadcrumbs:"="},restrict:"EA",replace:!0,templateUrl:"/app/common/directives/breadcrumbsDirective.html",link:function(){}}})}(),function(){angular.module("app").directive("lnConfirmClick",function(){return{priority:-1,restrict:"A",link:function(n,t,i){t.bind("click",function(n){var t=i.lnConfirmClick;t&&!confirm(t)&&(n.stopImmediatePropagation(),n.preventDefault())})}}})}(),function(){angular.module("app").directive("updateOnBlur",function(){return{restrict:"A",require:"ngModel",priority:"100",link:function(n,t,i,r){i.type!=="radio"&&i.type!=="checkbox"&&(t.unbind("input").unbind("keydown").unbind("change"),t.bind("blur",function(){n.$apply(function(){r.$setViewValue(t.val())})}))}}}).directive("customValidate",function(){return{restrict:"A",require:"ngModel",link:function(n,t,i,r){function o(t){if(angular.isString(t)){n.$watch(t,function(){angular.forEach(u,function(n){n(r.$modelValue)})});return}if(angular.isArray(t)){angular.forEach(t,function(t){n.$watch(t,function(){angular.forEach(u,function(n){n(r.$modelValue)})})});return}angular.isObject(t)&&angular.forEach(t,function(t,i){angular.isString(t)&&n.$watch(t,function(){u[i](r.$modelValue)});angular.isArray(t)&&angular.forEach(t,function(t){n.$watch(t,function(){u[i](r.$modelValue)})})})}var e,u={},f=n.$eval(i.customValidate);f&&(angular.isString(f)&&(f={validator:f}),angular.forEach(f,function(t,i){e=function(u){var f=n.$eval(t,{$value:u});return angular.isObject(f)&&angular.isFunction(f.then)?(f.then(function(){r.$setValidity(i,!0)},function(){r.$setValidity(i,!1)}),u):f?(r.$setValidity(i,!0),u):(r.$setValidity(i,!1),u)};u[i]=e;r.$formatters.push(e);r.$parsers.push(e)}),i.customValidateWatch&&o(n.$eval(i.customValidateWatch)))}}})}(),function(){angular.module("app").directive("lnSampleCustomValidator",["projectsDataService","alertService",function(n,t){return{require:"ngModel",restrict:"A",controller:function(){function r(r){return!r||r.length<=0?r:(n.getProject(1).then(function(n){r===n.id?i.$setValidity("lnSampleCustomValidator",!1):i.$setValidity("lnSampleCustomValidator",!0)},function(n){t.showAlert("Error validating project: "+n.status+" "+n.statusText)}).catch(function(n){t.showAlert("Error validating project: "+n)}),r)}var i=this;i.$parsers.unshift(r);i.$formatters.unshift(r)}}}])}(),function(){function n(){return{restrict:"EA",scope:{},controller:"TrainingProgressController",templateUrl:"/app/analytics/training/trainingProgress/TrainingProgressDirective.html"}}angular.module("app").directive("lnTrainingProgress",n)}(),function(){function n(){return{restrict:"EA",scope:{},controller:"DocumentSetsListController",templateUrl:"/app/analytics/training/documentSets/DocumentSetsListDirective.html"}}angular.module("app").directive("lnDocumentSetsList",n)}(),function(){function n(n,t,i,r,u){function c(){f.localized=DocumentSetsListResources;f.clear=w;f.refresh=h;f.typeChanged=y;f.statusChanged=p;a();v();l()}function l(){o=[{field:"Name",dir:"asc"}];e=new kendo.data.DataSource({type:"odata",transport:{read:function(n){var t=kendo.data.transports.odata.parameterMap(n.data,"read");r.getDocumentSets(t).success(function(t){n.success(t)}).error(function(){})}},pageSize:10,sort:o,serverPaging:!0,serverSorting:!0,serverFiltering:!0,schema:{data:function(n){return n.value},total:function(n){return n["odata.count"]}},error:function(n){u.showAlert("Error retrieving document sets: "+n.status+" "+n.statusText)}});f.gridDocSetsConfig={dataSource:e,sortable:!0,pageable:!0,filterable:!0,columns:[{field:"Name",title:"Name"},{field:"Type",title:"Type"},{field:"Documents",title:"Docs",filterable:{ui:"numerictextbox"}},{field:"Reviewed",title:"Reviewed",filterable:{ui:"numerictextbox"}},{field:"NotReviewed",title:"Not Reviewed",filterable:{ui:"numerictextbox"}},{field:"Status",title:"Status"}]}}function a(){t.getMatters().then(function(n){f.types=n},function(n){u.showAlert("Error retrieving matters: "+n.status+" "+n.statusText)})}function v(){i.getDataSets().then(function(n){f.statuses=n},function(n){u.showAlert("Error retrieving datasets: "+n.status+" "+n.statusText)})}function s(){e.read()}function h(){s()}function y(){s()}function p(){s()}function w(){f.selectedType=null;f.selectedStatus=null;e.page(1);e.sort(o);e.filter([]);h()}var f=n,e={},o={};c()}angular.module("app").controller("DocumentSetsListController",n);n.$inject=["$scope","MattersDataService","DataSetsDataService","DocumentSetsDataService","AlertService"]}(),function(){function n(n,t,i,r,u,f){function o(){return h==="undefined"}function c(){e.isLoading=!1;o()?(e.project=new u,e.pagetitle="New Project"):(e.isLoading=!0,r.getProject(1).then(function(n){e.project=n;e.isLoading=!1}),e.pagetitle="Edit Project")}function l(n){e.activetab.active=!1;e.activetab=e.tabs[n];e.activetab.active=!0;e.submitted=!1}function a(n){if(n.$invalid){n.$setDirty();e.submitted=!0;return}e.submitted=!1;n.$setPristine();var t=e.tabs.indexOf(e.activetab);t+1<e.tabs.length&&(e.activetab.active=!1,e.activetab=e.tabs[t+1],e.activetab.active=!0)}function v(n){if(n.$dirty&&n.$invalid){e.submitted=!0;return}e.submitted=!1;n.$setPristine();var t=e.tabs.indexOf(e.activetab);t>0&&(e.activetab.active=!1,e.activetab=e.tabs[t-1],e.activetab.active=!0)}function y(n){return n>2}function p(n){n.$dirty&&n.$invalid||(n.$setPristine(),o()?r.addProject(e.project).then(function(){i.path("/list")},function(n){f.showAlert("Error adding project: "+n.status+" "+n.statusText)}):r.updateProject(e.project).then(function(){i.path("/list")},function(n){f.showAlert("Error updating project: "+n.status+" "+n.statusText)}))}function w(){e.setTab=l;e.next=a;e.back=v;e.save=p;e.calculate=s;e.sampleCustomValidator=y;e.localized=ProjectWizardResources;e.totalDocs="67,890";e.breadcrumbs=["System","Matter 4"];e.tabs=[{title:"Settings",active:!0,disabled:!1},{title:"Controls",active:!1,disabled:!1},{title:"Example",active:!1,disabled:!1},{title:"Summary",active:!1,disabled:!1}];e.activetab=e.tabs[0];e.tagoptions=[{text:"Extracted Text Tag",value:"Extracted"},{text:"Other",value:"Other"}];e.savedsearchoptions=[{text:"Sample Search",value:1},{text:"Another Search",value:2}];e.confidenceoptions=[{text:"75%",value:75},{text:"85%",value:85},{text:"95%",value:95}];e.marginoferrorsoptions=[{text:"2.0%",value:2},{text:"2.5%",value:2.5},{text:"3.0%",value:3},{text:"3.5%",value:3.5}];e.custodianfields=[{text:"Other",value:"Other"},{text:"Custodian",value:"Custodian"}];c()}var e=this,h=t.id,s;e.ProjectNameValidations={async:{ProjectNameAvailability:function(n){return r.checkUniqueProjectName(n)}}};e.ProjectDescriptionValidations={patterns:{whitespace:/^\S+$/,numeric:/\d+/,lowercase:/[a-z]+/,uppercase:/[A-Z]+/,special:/\W+/}};s=function(){r.calculateSampleSize().then(function(n){e.project.sampleSize=n.size})};w()}angular.module("app").controller("ProjectWizardController",n);n.$inject=["$scope","$routeParams","$location","ProjectsDataService","ProjectModel","AlertService"]}(),function(){function n(n,t){var r={},u=function(){r.read()},f=[{field:"ProjectName",dir:"asc"}],i=this,e=function(){r.page(1);r.sort(f);r.filter([]);i.refresh()},o=function(t){n.path("/wizard/"+t)},s=function(){n.path("/dashboard")},h=function(n){t.deleteProject(n).then(function(){u()},function(){})},c=function(){u()},l=function(){r=new kendo.data.DataSource({type:"odata",transport:{read:function(n){var i=kendo.data.transports.odata.parameterMap(n.data,"read");t.getProjectsOData(i).success(function(t){n.success(t)}).error(function(){})}},pageSize:10,sort:f,serverPaging:!0,serverSorting:!0,serverFiltering:!0,schema:{data:function(n){return n.value},total:function(n){return n["odata.count"]}},error:function(){}});i.gridProjectsConfig={dataSource:r,sortable:!0,pageable:{pageSizes:[10,25,50,100]},filterable:!0,columns:[{field:"ProjectName",title:i.localized.ProjectName,template:"<a id='check-all' ng-click='ProjectListController.goToDashboard()'>#: ProjectName#<\/a>"},{field:"MatterName",title:i.localized.MatterName},{field:"Source",title:i.localized.Source},{field:"CreatedBy",title:i.localized.CreatedBy},{field:"CreatedOn",title:i.localized.CreatedOn,template:"#= kendo.toString(kendo.parseDate(CreatedOn), 'G') #",filterable:{ui:"datetimepicker"}},{field:"Documents",title:i.localized.Documents,filterable:{ui:"numerictextbox"}},{field:"ProjectId",filterable:!1,sortable:!1,title:i.localized.Actions,template:"<a class='btn btn-default btn-sm' id='check-all' ng-click='ProjectListController.editProject(#: ProjectId #)'>"+i.localized.Edit+"<\/a> <a class='btn btn-default btn-sm' id='check-all'  ln-confirm-click='Are you sure you want to delete this record?'  ng-click='ProjectListController.deleteProject(#: ProjectId #)'>"+i.localized.Delete+"<\/a>"}]}},a=function(){i.localized=ProjectResources;i.pagetitle=i.localized.Pagetitle;i.breadcrumbs=[i.localized.System,i.localized.Analytics];i.editProject=o;i.deleteProject=h;i.goToDashboard=s;i.clear=e;i.refresh=c;l()};a()}angular.module("app").controller("ProjectListController",n);n.$inject=["$location","ProjectsDataService"]}(),function(){function n(n,t,i,r){function e(){i.getProjectSummary(1).then(function(n){u.sourcedataset=n.SourceDataSet;u.totaldocs=n.TotalDocs;u.crossreffield=n.CrossRefField;u.controlset=n.ControlSet;u.dbserver=n.DatabaseServer;u.analyticsserver=n.AnalyticsServer},function(n){r.showAlert("Error retrieving project summary: "+n.status+" "+n.statusText)})}function f(n,t){u.alerts.push({msg:n,type:t})}function o(n){u.alerts.splice(n,1)}function s(){u.localized=ProjectDashboardResources;u.breadcrumbs=["System","Matter 4","AR - DS4"];u.pagetitle="Sample Dashboard";u.alerts=[];u.enablesettings=!1;u.closeAlert=o;u.showNewControlSetModal=n.showNewControlSetModal;u.doSomething=function(){r.showAlert("Do something useful")};e()}var u=this;n.showNewControlSetModal=function(){var n=t.open({templateUrl:"/app/analytics/projects/modals/CreateControlSetView.html",controller:"CreateControlSetController",controllerAs:"CreateControlSetController",size:"smx"});n.result.then(function(){f("New Control Set created successfully","success")},function(){return})};n.showNewQCSetModal=function(){var n=t.open({templateUrl:"/app/analytics/projects/modals/CreateQCSetView.html",controller:"CreateQCSetController",controllerAs:"CreateQCSetController",size:"smx"});n.result.then(function(){f("New QC Set created successfully","success")},function(){})};n.showNewPredictionSetModal=function(){var n=t.open({templateUrl:"/app/analytics/projects/modals/CreatePredictionSetView.html",controller:"CreatePredictionSetController",controllerAs:"CreatePredictionSetController",size:"smx"});n.result.then(function(){f("New Prediction Set job is scheduled","success")},function(){})};n.showRunAccuracyTestModal=function(){var n=t.open({templateUrl:"/app/analytics/projects/modals/RunAccuracyTestView.html",controller:"RunAccuracyTestController",controllerAs:"RunAccuracyTestController",size:"smx"});n.result.then(function(){f("Run Accuracy Test is scheduled","success")},function(){})};s()}angular.module("app").controller("ProjectDashboardController",n);n.$inject=["$scope","$modal","ProjectsDataService","AlertService"]}(),function(){function n(n,t,i){function e(){u=new kendo.data.DataSource({data:r.chartData});r.chartTrainingProgress={dataSource:u,seriesDefaults:{type:"line",errorBars:{value:"percentage(20)"}},series:[{field:"Precision",name:"Precision"},{field:"Recall",name:"Recall"},{field:"Accuracy",name:"Accuracy (F1)"}],valueAxis:{labels:{format:"{0}%"},line:{visible:!0},axisCrossingValue:0},categoryAxis:{field:"Name",line:{visible:!0}},legend:{position:"bottom"},tooltip:{visible:!0,format:"{0}%",template:"#= series.name #: #= value #%"}}}function o(){i.showAlert("View report")}function f(){t.getTrainingResults().then(function(n){r.chartData=n;u.data(n)},function(n){i.showAlert("Error loading training results: "+n.status+" "+n.statusText)})}function s(){f()}function h(){r.localized=TrainingProgressResources;r.chartData={};r.viewreport=o;r.refresh=s;e();f()}var u={},r=n;h()}angular.module("app").controller("TrainingProgressController",n);n.$inject=["$scope","TrainingDataService","AlertService"]}(),function(){function n(n,t,i){function u(){r.matterId="2";r.datasetId="3";r.projectId="4";r.localized=CreateControlSetResources;r.confidences=[{name:r.localized.confidences_95+r.localized.percentage,value:r.localized.confidences_95},{name:r.localized.confidences_90+r.localized.percentage,value:r.localized.confidences_90},{name:r.localized.confidences_85+r.localized.percentage,value:r.localized.confidences_85}];r.errorMargins=[{name:r.localized.errorMargins_p5+r.localized.percentage,value:r.localized.errorMargins_p5},{name:r.localized.errorMargins_1+r.localized.percentage,value:r.localized.errorMargins_1},{name:r.localized.errorMargins_1p5+r.localized.percentage,value:r.localized.errorMargins_1p5},{name:r.localized.errorMargins_2+r.localized.percentage,value:r.localized.errorMargins_2},{name:r.localized.errorMargins_2p5+r.localized.percentage,value:r.localized.errorMargins_2p5},{name:r.localized.errorMargins_5+r.localized.percentage,value:r.localized.errorMargins_5}];r.pageModel=new i}function f(i){if(i.$invalid){i.$setDirty();r.submitted=!0;return}r.submitted=!1;r.pageModel.confidenceLevel=r.confidenceSelected.value;r.pageModel.marginOfError=r.errorMarginSelected.value;t.addControlset(r.matterId,r.datasetId,r.projectId,r.pageModel).then(function(){n.close()},function(){})}var r=this;r.cancel=function(){n.dismiss("cancel")};r.calculateSampleSize=function(n){if(n.$invalid){n.$setDirty();r.submitted=!0;return}r.submitted=!1;r.pageModel.confidenceLevel=r.confidenceSelected.value;r.pageModel.marginOfError=r.errorMarginSelected.value;t.getSampleSize(r.matterId,r.datasetId,r.pageModel).then(function(n){r.sampleSize=n.data})};r.ok=function(n){f(n)};u()}angular.module("app").controller("CreateControlSetController",n);n.$inject=["$modalInstance","ControlSetService","ControlsetModel"]}(),function(){function n(n,t){function r(){i.matterId="2";i.datasetId="3";i.projectId="4";i.localized=CreatePredictionSetResources}var i=this;i.ok=function(){t.createPredictionSetJob(i.matterId,i.datasetId,i.projectId).then(function(){n.close()},function(){})};i.cancel=function(){n.dismiss("cancel")};r()}angular.module("app").controller("CreatePredictionSetController",n);n.$inject=["$modalInstance","PredictionSetService"]}(),function(){function n(n,t,i){function s(){r.matterId="2";r.datasetId="3";r.projectId="4";r.localized=CreateQCSetResources;r.confidences=[{name:r.localized.confidences_95+r.localized.percentage,value:r.localized.confidences_95},{name:r.localized.confidences_90+r.localized.percentage,value:r.localized.confidences_90},{name:r.localized.confidences_85+r.localized.percentage,value:r.localized.confidences_85}];r.errorMargins=[{name:r.localized.errorMargins_p5+r.localized.percentage,value:r.localized.errorMargins_p5},{name:r.localized.errorMargins_1+r.localized.percentage,value:r.localized.errorMargins_1},{name:r.localized.errorMargins_1p5+r.localized.percentage,value:r.localized.errorMargins_1p5},{name:r.localized.errorMargins_2+r.localized.percentage,value:r.localized.errorMargins_2},{name:r.localized.errorMargins_2p5+r.localized.percentage,value:r.localized.errorMargins_2p5},{name:r.localized.errorMargins_5+r.localized.percentage,value:r.localized.errorMargins_5}];r.pageModel=new i}function f(){return r.sampling===u?(r.pageModel.confidenceLevel=r.confidenceSelected.value,r.pageModel.marginOfError=r.errorMarginSelected.value,r.pageModel.isStatistical=!0):r.sampling===o&&(r.pageModel.isStatistical=!1,r.pageModel.percentage=r.sliderPercentage),r.pageModel.relevantType=r.relevance,r.pageModel}function e(n){return(r.errorOnRelvanceType=angular.isUndefined(r.relevance)?!0:!1,r.errorOnSamplingType=angular.isUndefined(r.sampling)?!0:!1,r.sampling===u&&n.$invalid?(n.$setDirty(),r.submitted=!0):r.submitted=!1,r.errorOnRelvanceType||r.errorOnSamplingType||r.submitted)?!1:!0}var r=this,u="statistical",o="percentage";s();r.ok=function(i){var u=e(i);u&&t.addQCset(r.matterId,r.datasetId,r.projectId,f()).then(function(){n.close()},function(){})};r.cancel=function(){n.dismiss("cancel")};r.calculateSampleSize=function(n){var i=e(n);i&&t.getSampleSize(r.matterId,r.datasetId,f()).then(function(n){r.sampleSize=n.data},function(){})}}angular.module("app").controller("CreateQCSetController",n);n.$inject=["$modalInstance","QCSetService","QCSetModel"]}(),function(){function n(n,t){function r(){i.projectId="4";i.controlsetId="5";i.localized=RunAccuracyTestResources}var i=this;r();i.ok=function(){t.createRunAccuracyTest(i.projectId,i.controlsetId).then(function(){n.close()},function(){})};i.cancel=function(){n.dismiss("cancel")}}angular.module("app").controller("RunAccuracyTestController",n);n.$inject=["$modalInstance","RunAccuracyTestService"]}(),function(){angular.module("app").factory("ControlsetModel",function(){var n=function(){this.confidenceLevel=0;this.marginOfError=0};return n.prototype={doSomething:function(){}},n})}(),function(){angular.module("app").factory("QCSetModel",function(){var n=function(){this.isStatistical=!1;this.confidenceLevel=0;this.marginOfError=0;this.percentage=0;this.relevantType=""};return n.prototype={doSomething:function(){}},n})}(),function(){function n(n){function t(t,i,r){return n.post("/api/controlset/samplesize/"+t+"/"+i,r)}function i(t,i,r,u){return n.post("/api/controlset/"+t+"/"+i+"/"+r,u)}return{getSampleSize:t,addControlset:i}}angular.module("app").factory("ControlSetService",n);n.$inject=["WebApiClientService"]}(),function(){function n(n){function t(t,i,r){return n.post("/api/predictionset/"+t+"/"+i+"/"+r)}return{createPredictionSetJob:t}}angular.module("app").factory("PredictionSetService",n);n.$inject=["WebApiClientService"]}(),function(){function n(n){function t(t,i,r){return n.post("/api/qcset/samplesize/"+t+"/"+i,r)}function i(t,i,r,u){return n.post("/api/qcset/"+t+"/"+i+"/"+r,u)}return{getSampleSize:t,addQCset:i}}angular.module("app").factory("QCSetService",n);n.$inject=["WebApiClientService"]}(),function(){function n(n){function t(t,i){return n.post("/api/runaccuracytest/"+t+"/"+i)}return{createRunAccuracyTest:t}}angular.module("app").factory("RunAccuracyTestService",n);n.$inject=["WebApiClientService","$q"]}();FileBrowseResources={Browse:"Browse",BrowseTypeFolderTitle:"Select Folder",BrowseTypeFileTitle:"Select File",BrowseTypeCreateFileTitle:"Create File",ErrorInfoPath:"Select file path",ErrorInfoFileName:"Enter file name",Path:"Path",Name:"Name",AvailableSpace:"Available Space",FileName:"File Name",Ok:"OK",Cancel:"Cancel",MB:"MB",ErrorOnFetchSharePath:"Error retrieving on share path:",ErrorOnFetchFilePath:"Error retrieving on file paths ",ErrorOnFetchFilePathWithValidate:"Error retrieving on file paths with validate"},function(){function n(n,t){function r(){i.localized=FileBrowseResources}var i=this;i.open=function(){var i=t.open({templateUrl:"/app/common/directives/FileBrowse/FolderFilePathDialogView.html",controller:"FolderFilePathDialogController",controllerAs:"FolderFilePathDialogController",resolve:{pathType:function(){return n.browsetype},pathText:function(){return n.lnFilePath}},size:"smx"});i.result.then(function(t){n.lnFilePath=t},function(){n.lnFilePath=""})};r()}angular.module("app").controller("FileBrowseController",n);n.$inject=["$scope","$modal"]}(),function(){angular.module("app").directive("lnFilebrowse",function(){return{restrict:"EA",scope:{browsetype:"@lnFilebrowseType",lnFilePath:"="},controller:"FileBrowseController",controllerAs:"FileBrowseController",replace:!0,templateUrl:"/app/common/directives/FileBrowse/FileBrowseView.html"}})}(),function(){angular.module("app").factory("FileDialogModel",function(){return function(){this.name="";this.path="";this.type="";this.size=0}})}(),function(){function n(n){function t(t){return n.get("/api/filedialog/share/"+t)}function i(t,i){return n.post("/api/filedialog/path/"+t,i)}function r(t,i){return n.post("/api/filedialog/path/validate/"+t,i)}return{getShares:t,getFolderFilePath:i,getFolderFilePathsWithValidate:r}}angular.module("app").factory("FileDialogService",n);n.$inject=["WebApiClientService"]}(),function(){function n(n,t,i,r,u){function c(n){i.getShares(n).then(function(n){f.fileInformations=n.data;f.colShow=!0},function(){})}function l(n,t){i.getFolderFilePathsWithValidate(n,t).then(function(n){f.fileInformations=n.data;f.colShow=!1;f.fileinfo.type===h&&(f.colShow=!0)},function(){})}function a(n){var t=f.browseType,i,r;f.browseType===o&&(i=n.substr(n.lastIndexOf("\\")+1),r=n.substr(0,n.lastIndexOf("\\")),n=r,f.lnModalFileName=i,t=s);f.fileinfo.path=n;f.fileinfo.type=f.browseType;f.spath=n;l(t,f.fileinfo)}function v(n,t){i.getFolderFilePath(n,t).then(function(n){f.fileInformations=n.data;f.colShow=!1;f.fileinfo.type===h&&(f.colShow=!0)},function(){})}function y(){f.localized=FileBrowseResources;f.browseType=r;f.colShow=!0;f.isErrorInfoPath=!1;f.showFileName=!1;f.isErrorInfoFileName=!1;f.browseType===s?f.title=f.localized.BrowseTypeFolderTitle:f.browseType===e?f.title=f.localized.BrowseTypeFileTitle:f.browseType===o&&(f.title=f.localized.BrowseTypeCreateFileTitle,f.showFileName=!0);f.fileinfo=new t;angular.isUndefined(u)||u===""?c(2):a(u)}var f=this,e="file",s="folder",o="createfileinfolder",h="root";f.select=function(n){(f.fileinfo.path=n.Path,f.fileinfo.name=n.Name,f.fileinfo.type=n.Type,f.spath=n.Path,f.fileinfo.type!==e)&&v(f.browseType,f.fileinfo)};f.ok=function(){if(angular.isUndefined(f.spath)||f.spath===null||f.spath===""){f.isErrorInfoPath=!0;return}if(f.browseType===e&&f.fileinfo.type!==e){f.isErrorInfoPath=!0;return}if(f.browseType===o){if(angular.isUndefined(f.lnModalFileName)||f.lnModalFileName===null||f.lnModalFileName===""||f.lnModalFileName.lastIndexOf(".")===-1){f.isErrorInfoFileName=!0;f.isErrorInfoPath=!1;return}f.spath=f.spath+"\\"+f.lnModalFileName}n.close(f.spath)};f.cancel=function(){n.dismiss("cancel")};y()}angular.module("app").controller("FolderFilePathDialogController",n);n.$inject=["$modalInstance","FileDialogModel","FileDialogService","pathType","pathText"]}();UserPickerResources={Assign:"Assign",UnAssign:"Un Assign",TitleUserGroups:"Select User Groups",TitleUsers:"Select Users",TitleUserGroupsUsers:"Select Users / User Groups",Filter:"Filter",Reset:"Reset",Cancel:"Cancel",Ok:"Ok",Error:"Error on bind data:"},function(){function n(n,t,i){function f(){r.localized=UserPickerResources}var r=this,u=function(t){var r=i.constructUserList(t);n.lnSelectedList=r.join()};r.assign=function(){var i=t.open({templateUrl:"/app/common/directives/UserPicker/UserPickerDialogView.html",controller:"UserPickerDialogController",controllerAs:"UserPickerDialogController",resolve:{previousSelectionUserList:function(){return r.userList},treeViewType:function(){return n.userPickerType}},size:"smx"});i.result.then(function(n){r.userList=n;u(r.userList)},function(){r.userList={}})};r.unassign=function(){if(r.currentSelectedNodes.length>0){var t=i.removeUsersFromUserList(r.userList,r.currentSelectedNodes);n.lnSelectedList=t.join()}};f()}angular.module("app").controller("UserPickerController",n);n.$inject=["$scope","$modal","UserPickerService"]}(),function(){function n(n,t,i,r,u){function y(n){return u===a?(f.title=f.localized.TitleUserGroups,t.getUserGroups(n)):u===v?(f.title=f.localized.TitleUsers,t.getUser(n)):u===o?(f.title=f.localized.TitleUserGroupsUsers,t.getUserGroupsWithUsers(n)):void 0}function l(n){return new kendo.data.HierarchicalDataSource({transport:{read:function(i){y(n).success(function(n){var u=t.constructAndSetStateOnData(n,r);i.success(u)}).error(function(){})}},schema:{model:{children:h,expanded:!0}}})}function p(n){f.treeOptions={loadOnDemand:!1,dataTextField:[s],checkboxes:{template:"<input type='checkbox' ng-checked='dataItem.checked' ng-model='dataItem.checked' ng-click='UserPickerDialogController.onCheck(dataItem)'/>",checkChildren:!0}};f.treeData=l(n)}function w(n,i){return new kendo.data.HierarchicalDataSource({transport:{read:function(u){t.postFilterUserGroupsAndUsers(n,i).success(function(n){var i=t.constructAndSetStateOnData(n,r);u.success(i)}).error(function(){})}},schema:{model:{children:h,expanded:!0}}})}function b(){f.localized=UserPickerResources;angular.isUndefined(c)||(e=c);p(2)}var f=this,e=[],a="group",v="user",o="usersandgroup",s="UserName",h="Users",c=r;f.onCheck=function(n){e=angular.isUndefined(n.Users)?t.addOrRemoveUser(n,e):t.addOrRemoveAllUser(n,e)};f.ok=function(){n.close(e)};f.cancel=function(){n.dismiss("cancel")};f.reset=function(){if(u===o)f.treeData=l(2);else f.treeData.filter({});f.filterText=""};f.filternode=function(){u===o?(f.filterInfo=new i,f.filterInfo.filterText=f.filterText,f.treeData=w(2,f.filterInfo)):f.treeData.filter({field:s,operator:"contains",value:f.filterText})};b()}angular.module("app").controller("UserPickerDialogController",n);n.$inject=["$modalInstance","UserPickerService","UserPickerFilterModel","previousSelectionUserList","treeViewType"]}(),function(){angular.module("app").directive("lnUserPicker",function(){return{restrict:"EA",scope:{userPickerType:"@lnUserPickerType",lnSelectedList:"="},controller:"UserPickerController",controllerAs:"UserPickerController",replace:!0,templateUrl:"/app/common/directives/UserPicker/UserPickerView.html"}})}(),function(){angular.module("app").factory("UserPickerFilterModel",function(){return function(){this.filterText=""}})}(),function(){function n(n){function t(t){return n.get("/api/userpicker/usergroupsandusers/"+t)}function i(t){return n.get("/api/userpicker/usergroups/"+t)}function r(t){return n.get("/api/userpicker/users/"+t)}function u(t,i){return n.post("/api/userpicker/usergroupswithusers/filter/"+t,i)}function f(n){var r=[],t,i,u,f;if(n.length>0)for(u=n.length,t=0;t<u;t=t+1)if(r.push(n[t].UserName),!angular.isUndefined(n[t].Users)&&n[t].Users!==null)for(f=n[t].Users.length,i=0;i<f;i=i+1)r.push(n[t].Users[i].UserName);return r}function e(n,t){for(var u=n,i,f=u.length,e=t.length,r=0;r<e;r=r+1)for(i=0;i<f;i=i+1)if(u[i].UserId===t[r].UserId){n.splice(i,1);break}return n}function o(n,t){for(var i=n,e,r,o,u,s,h,c,l,a,v,y,f=0;f<i.length;f=f+1)if(h=i[f],c=!angular.isUndefined(h.Users),c)for(l=h.Users.length,e=0;e<l;e=e+1)h.Users[e].Groupid=h.UserId;if(!angular.isUndefined(t))for(r=0;r<i.length;r=r+1){for(a=t.length,o=0;o<a;o=o+1)if(i[r].UserId===t[o].UserId){i[r].checked=!0;break}if(!angular.isUndefined(i[r].Users)&&i[r].Users.length>0)for(v=i[r].Users.length,u=0;u<v;u=u+1)for(y=t.length,s=0;s<y;s=s+1)if(i[r].Users[u].UserId===t[s].UserId){i[r].Users[u].checked=!0;break}}return i}function s(n,t){var s=[],r,o,u,i,h,f,e,c,l;if(n.checked)for(s.UserId=n.UserId,s.UserName=n.UserName,s.isGroup=!0,t.push(s),h=n.Users,l=h.length,r=0;r<l;r=r+1){if(c=!1,e=[],e.UserId=h[r].UserId,e.UserName=h[r].UserName,e.Groupid=n.UserId,f=t.length,f>0)for(o=0;o<f;o=o+1)if(t[o].UserId===e.UserId){c=!0;break}c||t.push(e)}else{for(f=t.length,u=0;u<f;u=u+1)if(t[u].UserId===n.UserId){t.splice(u,1);break}for(i=0;i<=f;0)t[i].Groupid===n.UserId?(t.splice(i,1),i>0&&(i=i-1)):i=i+1}return t}function h(n,t){var i,r,u=[],f;if(n.checked)u.UserId=n.UserId,u.UserName=n.UserName,u.Groupid=n.Groupid,t.push(u);else{for(f=t.length,i=0;i<f;i=i+1)if(t[i].UserId===n.UserId){t.splice(i,1);break}for(r=0;r<f;r=r+1)if(t[r].UserId===n.Groupid){t.splice(r,1);break}}return t}return{getUserGroupsWithUsers:t,getUserGroups:i,getUser:r,postFilterUserGroupsAndUsers:u,constructUserList:f,removeUsersFromUserList:e,constructAndSetStateOnData:o,addOrRemoveAllUser:s,addOrRemoveUser:h}}angular.module("app").factory("UserPickerService",n);n.$inject=["WebApiClientService"]}();
//# sourceMappingURL=analytics.all.min.js.map
